let x := 0 in
let proc add (n) = x := x + n in
while x < 10 do
  let proc add_and_write () = add (1); write (x) in
  add_and_write ()
